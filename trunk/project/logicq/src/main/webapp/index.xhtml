<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fb="http://www.facebook.com/2008/fbml"
	template="pages/templates/common-template.xhtml"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="content">
	<script src="http://maps.googleapis.com/maps/api/js"></script>
		<script>
	$(function() {
		 
		  var entityTags = #{locationMB.entitylist}; 
		  var locationTags = #{locationMB.list};
		  var latlongTags = #{locationMB.latlonglist};
		  console.log(latlongTags);
		  $("#userlocation").autocomplete({
			
			  autoFocus: true,
		    source: locationTags,
		    change: function (event, ui) {
		    	if(!ui.item){
                	alert("Please select from the available list");
                    $("#userlocation").val("");
                }

            } ,   
            select: function (event, ui) {
				   
			    var label = ui.item.label;
			    var value = ui.item.value;
			    
			    var index=locationTags.indexOf(value); 	
			    var res = (latlongTags[index]).split(",");
			    initialize(res[3],res[4]);
		   }
		   
           
		 
		  });
		  $("#searcserviceprovider").autocomplete({
			    source: entityTags,
			    change: function (event, ui) {
			    	if(!ui.item){
	                	alert("Please select from the available list");
	                    $("#searcserviceprovider").val("");
	                }

	            }
			  });
		});
	
	</script>
	
	
    <script>
    var marker;

          function initialize(latitude,longitude) {
        	  var myCenter=new google.maps.LatLng(latitude,longitude);
        	  var mapProp = {
        			  center:myCenter,
        			  zoom:14,
        			  mapTypeId:google.maps.MapTypeId.ROADMAP
        			  };

        			var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

        			var marker=new google.maps.Marker({
        			  position:myCenter,
        			  animation:google.maps.Animation.BOUNCE
        			  });

        			marker.setMap(map);
        			}
             // google.maps.event.addDomListener(window, 'load', initialize);
</script>
		<div class="display-animation">
			<div
				class="search-wizard panel bs-wizard bs-wizard-steps-with-progress">
				<div class="panel-heading">
					<div class="steps-centered">
						<div class="progress progress-striped">
							<div class="progress-bar progress-bar-primary" role="progressbar"
								aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
							</div>
						</div>

						<ul class="wizard-steps wizard-steps-name">
							<li class="step active"><span>Search</span> <a
								href="#form3_tab1" data-toggle="tab" class="btn btn-primary"><i
									class="fa fa-search"></i></a></li>
							<li class="step"><span>Specialized</span> <a
								href="#form3_tab2" data-toggle="tab" class="btn btn-white"><i
									class="fa fa-user-md"></i></a></li>
							<li class="step"><span>Schedule</span> <a href="#form3_tab3"
								data-toggle="tab" class="btn btn-white"><i
									class="fa fa-clock-o"></i></a></li>
							<li class="step"><span>Confirm</span> <a href="#form3_tab4"
								data-toggle="tab" class="btn btn-white"><i
									class="fa fa-check"></i></a></li>
						</ul>
						<!--.wizard-steps-->
					</div>
					<!--.steps-centered-->
				</div>
				<!--.panel-heading-->
				<br></br> <br></br> <br></br>
				<div class="panel-body">
					<div class="col-md-5">
						<div class="tab-pane active" id="form3_tab1">
							<div class="form-group">
								<h:inputText p:placeholder="Search your Pincode"
									class="form-control" value="#{userMB.searchlocation}"
									id="userlocation" required="true" />
							</div>
							<br> </br>
							<!-- <div class="col-sm-12"></div> -->
							<div id="googleMap" style="width:580px;height:380px;"></div>
								  <!-- <iframe
									src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d60512.91950984214!2d73.73423198558297!3d18.57144763208247!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1446128278051"
									frameborder="0" style="border: 2; width: 100%; height: 300px;"></iframe>   -->
							
						</div>
					</div>
					<div class="col-md-7">
						<div class="row">
							<div class="col-md-10">
								<div class="form-group">

									<h:inputText p:placeholder="Type something here..."
										class="form-control" value="#{userMB.searchText}"
										id="searcserviceprovider" required="true">
										<!-- f:facet name="append">
											<b:button value="" id="searchEntity" look="default"
										actionListener="#{userMB.searchEntity}"
										action="#{userMB.entitynavigation}" icon="search" />
											</f:fac-->
									</h:inputText>
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<h:form>
										<b:commandButton value="Search" look="primary"
											action="#{loginMB.logout}" id="searchbutton"
											icon="glyphicon glyphicon-search" iconAlign="right" />
									</h:form>
								</div>
							</div>
						</div>
						<div class="col-md-12">

							<div class="col-md-4">
								<b:button value="Find Near By" id="findNearBy" look="default"
									actionListener="#{userMB.searchEntity}"
									action="#{userMB.entitynavigation}" />
							</div>
							<div class="col-md-6">
								<b:button value="Emergency Book" id="emergency" look="default"
									actionListener="#{userMB.searchEntity}"
									action="#{userMB.entitynavigation}" />


							</div>

						</div>
						<br> </br> <br> </br>
						<h:form>
							<div class="col-sm-12 margin-top-10 show-listing">


								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/fd.ico" id="familydoc"
											class="img-responsive" />
										<h:commandLink id="fdcommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="FamilyDoctor" id="familydoctor" />
										</h:commandLink>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/beauty.ico" id="beauty"
											class="img-responsive" />
										<h:commandLink id="beautycommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="BeautyCare" id="beautycare" />
										</h:commandLink>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/plumber.ico" id="plumber"
											class="img-responsive" />
										<h:commandLink id="plumbercommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Plumber" id="plumber" />
										</h:commandLink>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/carpenter.ico" id="carpenter"
											class="img-responsive" />
										<h:commandLink id="carpentercommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Carpenter" id="carpenter" />
										</h:commandLink>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/advocat.ico" id="advocate"
											class="img-responsive" />
										<h:commandLink id="Advocatecommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Advocate" id="advocate" />
										</h:commandLink>
									</div>
								</div>
							</div>
						</h:form>
						<br> </br>
						<h:form>
							<div class="col-sm-12 margin-top-10 show-listing">
								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/tutor.ico" id="tutor"
											class="img-responsive" />
										<h:commandLink id="tutorcommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Tutor" id="tutor" />
										</h:commandLink>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/grocery.ico" id="grocery"
											class="img-responsive" />
										<h:commandLink id="grocerycommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Grocery" id="grocery" />
										</h:commandLink>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/mason.ico" id="mason"
											class="img-responsive" />
										<h:commandLink id="masoncommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Mason" id="masaon" />
										</h:commandLink>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/elctrician.ico" id="electrican"
											class="img-responsive" />

										<h:commandLink id="electiricancommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Elctician" id="electrican" />
										</h:commandLink>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-2">
										<img src="pages/img/travel.ico" id="travel"
											class="img-responsive" />
										<h:commandLink id="travelcancommandlink"
											action="#{userMB.selectedEntity}" rendered="true"
											oncomplete="javascript:location.reload(true)">
											<h:outputText value="Travel" id="travel" />
										</h:commandLink>
									</div>
								</div>
							</div>
						</h:form>
					</div>
				</div>

			</div>

			<div class="layer-container">
				<div class="menu-layer">
					<ul>
						<li>


							<div class="user-section">

								<div class="user-section-inner">
									<img src="pages/assets/admin1/img/logo.png"
										class="img-responsive pull-left" />
								</div>


								<div class="user-info">
									<div>
										Sudhanshu <strong>Lenka</strong>
									</div>
									<div class="user-text-online">
										<span class="user-circle-online btn btn-success btn-circle "></span>
									</div>

								</div>
							</div> <!--end user image section-->
						</li>
					</ul>
					<br></br> <br></br>
					<ul>
						<li><a href="pages/user/profile.xhtml">About Me</a></li>
						<li><a href="pages/user/wallet.xhtml">Wallet</a></li>
						<li><a href="pages/user/addressdetails.xhtml">Address
								Details</a></li>
						<li><a href="pages/user/recenthistory.xhtml">Recent
								History</a></li>
						<li><a href="#">Subscribe</a></li>
						<li><a href="pages/user/documentdetails.xhtml">Documents</a></li>
					</ul>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>